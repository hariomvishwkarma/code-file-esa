Header navigation mobile bottom to top

<link rel="stylesheet" href="{{ 'component-menu-drawer.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-menu.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-search.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-cart-items.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-card.css' | asset_url }}" media="print" onload="this.media='all'">
{%- if settings.predictive_search_enabled -%}
  <link rel="stylesheet" href="{{ 'component-price.css' | asset_url }}" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="{{ 'component-loading-overlay.css' | asset_url }}" media="print" onload="this.media='all'">
{%- endif -%}
{%- if section.settings.menu_type_desktop == 'mega' -%}
  <link rel="stylesheet" href="{{ 'component-mega-menu.css' | asset_url }}" media="print" onload="this.media='all'">
  <noscript>{{ 'component-mega-menu.css' | asset_url | stylesheet_tag }}</noscript>
{%- endif -%}
{%- if section.settings.enable_country_selector or section.settings.enable_language_selector %}
<link rel="stylesheet" href="{{ 'disclosure.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'country-flags.css' | asset_url }}" media="print" onload="this.media='all'">
{% endif %}
{%- if settings.cart_type == "popup" -%}
  {{ 'cart-popup.css' | asset_url | stylesheet_tag }}
  {{ 'component-cart.css' | asset_url | stylesheet_tag }}
  {{ 'component-totals.css' | asset_url | stylesheet_tag }}
  {{ 'component-price.css' | asset_url | stylesheet_tag }}
  {{ 'component-discounts.css' | asset_url | stylesheet_tag }}
  {{ 'component-loading-overlay.css' | asset_url | stylesheet_tag }}
{%- endif -%}

<noscript>{{ 'component-search.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-menu.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-menu-drawer.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-cart-items.css' | asset_url | stylesheet_tag }}</noscript>

<style>
  .header__heading-logo {
    max-width: {{ section.settings.logo_width_mobile }}px;
  }
  @media screen and (min-width: 750px) {
    .header__heading-logo {
      max-width: {{ section.settings.logo_width }}px;
    }
  }
  @media screen and (min-width: 990px) {
    .header-layout-fixed--mt {
      display: none;
    }
  }

  .menu-drawer-container {
    display: flex;
  }

  .list-menu {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .list-menu--inline {
    display: inline-flex;
    flex-wrap: wrap;
  }

  .list-menu__item {
    display: flex;
    align-items: center;
    line-height: 1.6;
  }

  .list-menu__item--link {
    text-decoration: none;
    line-height: 1.6;
  }
  .list-menu__item--link {
    padding: 5px 0px;
  }
  .mega-menu__content:before,
  .header__submenu.list-menu--disclosure:before,
  .fixed--mt-inner .header__icon::before{
     background-color: rgb(var(--{{ section.settings.color_scheme }}-background));
  }
  .MainHeader .disclosure__list-wrapper:before,
  .MainHeaderSticky .disclosure__list-wrapper:before {
    background-color: rgb(var(--{{ section.settings.color_scheme }}-background));
  }
</style>

<script src="{{ 'details-disclosure.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'details-modal.js' | asset_url }}" defer="defer"></script>
{%- unless settings.predictive_search_enabled -%}
<script src="{{ 'search-form.js' | asset_url }}" defer="defer"></script>
{% endunless %}
{% unless section.settings.full_width %}
  <div class="page-width">
{% endunless %}
<div class="header-wrapper relative__header color-{{ section.settings.color_scheme }} {% if section.settings.transparent_header %}transparent_header{% endif %}">
  <header class="header header--{{ section.settings.logo_position }}{% if section.settings.enable_overlay_navigation %} navigation-panel{% endif %} navigation__position-{{ section.settings.navigation_position }} header--mobile-{{ section.settings.mobile_logo_position }}{% if section.settings.menu != blank %} header--has-menu{% endif %}">
    <div class="header-left__icons">
      {%- if section.settings.menu != blank -%}
        <header-drawer data-breakpoint="tablet" class="large-up-hide">
          <div id="Details-menu-drawer-container" class="menu-drawer-container" open>
            <button class="header__icon header__icon--menu header__icon--summary link popup--button navigation--toggle" data-modal-type="mobile-navigation" aria-label="{{ 'sections.header.menu' | t }}">
              <span class="mobile-icon__flex">
                {% render 'theme-icons', icon: 'menu' %}
              </span>
            </button>
          </div>
        </header-drawer>
      {%- endif -%}
      {% if section.settings.enable_overlay_navigation %}
        <button type="button" class="header-additional__toggle-link small-hide medium-hide" data-modal-type="overly-navigation-panel" aria-label="navigation-panel">
          {% render 'theme-icons', icon: 'menu' %}
        </button>
        {% render 'overlay-navigation-panel', section: section %}
      {% endif %}
      <a href="{{ routes.search_url }}" class="header__search header__icon popup--button" data-modal-type="search" aria-label="{{ 'general.search.search' | t }}">{% render 'theme-icons', icon: 'search' %}</a>
    </div>
    {%- if request.page_type == 'index' -%}
      <h1 class="header__heading">
    {%- endif -%}
        <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
          {%- if section.settings.logo != blank -%}
            {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
            {%- assign logo_height = section.settings.logo_width | divided_by: section.settings.logo.aspect_ratio -%}
            {{ section.settings.logo | image_url: width: 500 | image_tag:
              class: 'header__heading-logo motion-reduce',
              widths: '50, 100, 150, 200, 250, 300, 400, 500',
              height: logo_height,
              width: section.settings.logo_width,
              alt: logo_alt
            }}
          {%- else -%}
            <span class="h2">{{ shop.name }}</span>
          {%- endif -%}
        </a>
    {%- if request.page_type == 'index' -%}
      </h1>
    {%- endif -%}
    {%- if section.settings.menu != blank and section.settings.navigation_position == 'top-with-header' -%}
      <nav class="header__inline-menu">
        <ul class="list-menu list-menu--inline" role="list">
          {%- for link in section.settings.menu.links -%}
            {% liquid
              assign checkMenuType = false
              for childlink in link.links
                if childlink.links != blank
                  assign checkMenuType = true
                endif
              endfor 
            %} 
            <li>
              {%- if link.links != blank -%}
                <header-menu>
                  {%- if section.settings.menu_type_desktop == 'mega' and checkMenuType == true -%}
                    <details id="Details-HeaderMenu-{{ forloop.index }}" class="mega-menu"  onclick="this.querySelector('.mega-menu__content').focus()">
                      <summary class="header__menu-item link-hover__element list-menu__item link focus-inset menu__item-lv1">
                        <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                        {% render 'theme-icons', icon: 'plus' %}
                        {% render 'theme-icons', icon: 'minus' %}
                      </summary>
                      <div id="MegaMenu-Content-{{ forloop.index }}" class="mega-menu__content color-{{ section.settings.color_scheme }} motion-reduce global-settings-popup" tabindex="-1">
                        <div class="mega-menu__content-inner">
                          <ul class="mega-menu__list {% unless section.settings.full_width %}page-width{% endunless %}{% if link.levels == 1 %} mega-menu__list--condensed{% endif %} {% if link.links.size > 3 %}link--column-auto{% else %}link--column-{{ link.links.size }}{% endif %}" role="list">
                            {%- for childlink in link.links -%}
                              <li>
                                {%- if childlink.levels > 0 and childlink.url contains '/collections/' -%}
                                  {% assign card_collection = collections[childlink.object.handle] %}
                                  {%- if section.settings.show_mega_menu_image and card_collection.featured_image != blank -%}
                                    <a class="megamenu-image-link" href="{{ childlink.url }}">
                                      <div class="collection-megamenu-image" style="--ratio-percent: {{ 1 | divided_by: 0.8 | times: 100 }}%;">
                                        <img
                                          srcset="
                                            {%- if card_collection.featured_image.width >= 165 -%}{{ card_collection.featured_image | image_url: width: 165 }} 165w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 330 -%}{{ card_collection.featured_image | image_url: width: 330 }} 330w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 535 -%}{{ card_collection.featured_image | image_url: width: 535 }} 535w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 750 -%}{{ card_collection.featured_image | image_url: width: 750 }} 750w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 1000 -%}{{ card_collection.featured_image | image_url: width: 1000 }} 1000w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 1500 -%}{{ card_collection.featured_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 3000 -%}{{ card_collection.featured_image | image_url: width: 3000 }} 3000w,{%- endif -%}
                                            {{ card_collection.featured_image | image_url }} {{ card_collection.featured_image.width }}w
                                          "
                                          src="{{ card_collection.featured_image | image_url: width: 1500 }}"
                                          sizes="
                                            (min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: link.links.size }}px,
                                            (min-width: 750px) {% if link.links.size > 1 %}calc((100vw - 10rem) / 2){% else %}calc(100vw - 10rem){% endif %},
                                            calc(100vw - 3rem)
                                          "
                                          alt=""
                                          height="{{ card_collection.featured_image.height }}"
                                          width="{{ card_collection.featured_image.width }}"
                                          loading="lazy"
                                          class="motion-reduce loading__animation"
                                        >
                                      </div>
                                    </a>
                                  {%- endif -%}
                                {%- endif -%}
                                <a href="{{ childlink.url }}" class="mega-menu__link link-hover__element mega-menu__link--level-2 link h5{% if childlink.current %} mega-menu__link--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                  <span class="link__hover h5">{{ childlink.title | escape }}</span>
                                </a>
                                {%- if childlink.links != blank -%}
                                  <ul class="list-unstyled" role="list">
                                    {%- for grandchildlink in childlink.links -%}
                                      <li>
                                        <a href="{{ grandchildlink.url }}" class="mega-menu__link link-hover__element link{% if grandchildlink.current %} mega-menu__link--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                          <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                        </a>
                                      </li>
                                    {%- endfor -%}
                                  </ul>
                                {%- endif -%}
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </div>
                    </details>
                  {% else %}
                    <details id="Details-HeaderMenu-{{ forloop.index }}" onclick="this.querySelector('.header__submenu').focus()">
                      <summary class="header__menu-item list-menu__item link-hover__element link focus-inset menu__item-lv1">
                        <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                        {% render 'theme-icons', icon: 'plus' %}
                        {% render 'theme-icons', icon: 'minus' %}
                      </summary>
                      <div id="HeaderMenu-MenuList-{{ forloop.index }}" class="header__submenu list-menu list-menu--disclosure color-{{ section.settings.color_scheme }} caption-large motion-reduce global-settings-popup" role="list" tabindex="-1">
                        <ul class="dropdown__menu-item">
                          {%- for childlink in link.links -%}
                            <li>
                              {%- if childlink.links == blank -%}
                                <a href="{{ childlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                  <span class="link__hover">{{ childlink.title | escape }}</span>
                                </a>
                              {%- else -%}
                                <details id="Details-HeaderSubMenu-{{ forloop.index }}">
                                  <summary class="header__menu-item link link--text list-menu__item focus-inset caption-large">
                                    <span>{{ childlink.title | escape }}</span>
                                    {% render 'theme-icons', icon: 'plus' %}
                                    {% render 'theme-icons', icon: 'minus' %}
                                  </summary>
                                  <ul id="HeaderMenu-SubMenuList-{{ forloop.index }}" class="header__submenu list-menu motion-reduce">
                                    {%- for grandchildlink in childlink.links -%}
                                      <li>
                                        <a href="{{ grandchildlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                          <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                        </a>
                                      </li>
                                    {%- endfor -%}
                                  </ul>
                                </details>
                              {%- endif -%}
                            </li>
                          {%- endfor -%}
                        </ul>
                      </div>
                    </details>
                  {% endif %}
                </header-menu>
              {%- else -%}
                <a href="{{ link.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset menu__item-lv1"{% if link.current %} aria-current="page"{% endif %}>
                  <span{% if link.current %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                </a>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}
    {% if section.settings.navigation_position == 'inline-with-logo' %}
      <nav class="header__inline-menu">
        <ul class="list-menu list-menu--inline" role="list">
          {%- for link in section.settings.menu.links -%}
            {% liquid
              assign checkMenuType = false
              for childlink in link.links
                if childlink.links != blank
                  assign checkMenuType = true
                endif
              endfor 
            %} 
            <li>
              {%- if link.links != blank -%}
                <header-menu>
                  {%- if section.settings.menu_type_desktop == 'mega' and checkMenuType == true -%}
                    <details id="Details-HeaderMenu-{{ forloop.index }}" class="mega-menu" onclick="this.querySelector('.mega-menu__content').focus()">
                      <summary class="header__menu-item link-hover__element list-menu__item link focus-inset menu__item-lv1">
                        <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                        {% render 'theme-icons', icon: 'plus' %}
                        {% render 'theme-icons', icon: 'minus' %}
                      </summary>
                      <div id="MegaMenu-Content-{{ forloop.index }}" class="mega-menu__content color-{{ section.settings.color_scheme }} motion-reduce global-settings-popup" tabindex="-1">
                        <div class="mega-menu__content-inner">
                          <ul class="mega-menu__list {% unless section.settings.full_width %}page-width{% endunless %}{% if link.levels == 1 %} mega-menu__list--condensed{% endif %} {% if link.links.size > 3 %}link--column-auto{% else %}link--column-{{ link.links.size }}{% endif %}" role="list">
                            {%- for childlink in link.links -%}
                              <li>
                                {%- if childlink.levels > 0 and childlink.url contains '/collections/' -%}
                                  {% assign card_collection = collections[childlink.object.handle] %}
                                  {%- if section.settings.show_mega_menu_image and card_collection.featured_image != blank -%}
                                    <a class="megamenu-image-link" href="{{ childlink.url }}">
                                      <div class="collection-megamenu-image" style="--ratio-percent: {{ 1 | divided_by: 0.8 | times: 100 }}%;">
                                        <img
                                          srcset="
                                            {%- if card_collection.featured_image.width >= 165 -%}{{ card_collection.featured_image | image_url: width: 165 }} 165w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 330 -%}{{ card_collection.featured_image | image_url: width: 330 }} 330w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 535 -%}{{ card_collection.featured_image | image_url: width: 535 }} 535w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 750 -%}{{ card_collection.featured_image | image_url: width: 750 }} 750w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 1000 -%}{{ card_collection.featured_image | image_url: width: 1000 }} 1000w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 1500 -%}{{ card_collection.featured_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                                            {%- if card_collection.featured_image.width >= 3000 -%}{{ card_collection.featured_image | image_url: width: 3000 }} 3000w,{%- endif -%}
                                            {{ card_collection.featured_image | image_url }} {{ card_collection.featured_image.width }}w
                                          "
                                          src="{{ card_collection.featured_image | image_url: width: 1500 }}"
                                          sizes="
                                            (min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: link.links.size }}px,
                                            (min-width: 750px) {% if link.links.size > 1 %}calc((100vw - 10rem) / 2){% else %}calc(100vw - 10rem){% endif %},
                                            calc(100vw - 3rem)
                                          "
                                          alt=""
                                          height="{{ card_collection.featured_image.height }}"
                                          width="{{ card_collection.featured_image.width }}"
                                          loading="lazy"
                                          class="motion-reduce loading__animation"
                                        >
                                      </div>
                                    </a>
                                  {%- endif -%}
                                {%- endif -%}
                                <a href="{{ childlink.url }}" class="mega-menu__link link-hover__element mega-menu__link--level-2 link h5{% if childlink.current %} mega-menu__link--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                  <span class="link__hover h5">{{ childlink.title | escape }}</span>
                                </a>
                                {%- if childlink.links != blank -%}
                                  <ul class="list-unstyled" role="list">
                                    {%- for grandchildlink in childlink.links -%}
                                      <li>
                                        <a href="{{ grandchildlink.url }}" class="mega-menu__link link-hover__element link{% if grandchildlink.current %} mega-menu__link--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                          <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                        </a>
                                      </li>
                                    {%- endfor -%}
                                  </ul>
                                {%- endif -%}
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </div>
                    </details>
                  {% else %}
                    <details id="Details-HeaderMenu-{{ forloop.index }}" onclick="this.querySelector('.header__submenu').focus()">
                      <summary class="header__menu-item link-hover__element list-menu__item link focus-inset menu__item-lv1">
                        <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                        {% render 'theme-icons', icon: 'plus' %}
                        {% render 'theme-icons', icon: 'minus' %}
                      </summary>
                      <div id="HeaderMenu-MenuList-{{ forloop.index }}" class="header__submenu list-menu list-menu--disclosure color-{{ section.settings.color_scheme }} caption-large motion-reduce global-settings-popup" role="list" tabindex="-1">
                        <ul class="dropdown__menu-item">
                          {%- for childlink in link.links -%}
                            <li>
                              {%- if childlink.links == blank -%}
                                <a href="{{ childlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                  <span class="link__hover">{{ childlink.title | escape }}</span>
                                </a>
                              {%- else -%}
                                <details id="Details-HeaderSubMenu-{{ forloop.index }}">
                                  <summary class="header__menu-item link link--text list-menu__item focus-inset caption-large">
                                    <span>{{ childlink.title | escape }}</span>
                                    {% render 'theme-icons', icon: 'plus' %}
                                    {% render 'theme-icons', icon: 'minus' %}
                                  </summary>
                                  <ul id="HeaderMenu-SubMenuList-{{ forloop.index }}" class="header__submenu list-menu motion-reduce">
                                    {%- for grandchildlink in childlink.links -%}
                                      <li>
                                        <a href="{{ grandchildlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                          <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                        </a>
                                      </li>
                                    {%- endfor -%}
                                  </ul>
                                </details>
                              {%- endif -%}
                            </li>
                          {%- endfor -%}
                        </ul>
                      </div>
                    </details>
                  {% endif %}
                </header-menu>
              {%- else -%}
                <a href="{{ link.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset menu__item-lv1"{% if link.current %} aria-current="page"{% endif %}>
                  <span{% if link.current %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                </a>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {% endif %}
    <div class="header__icons">
      {% if section.settings.navigation_position == 'top-with-header' or section.settings.navigation_position == 'inline-with-logo' %}
        {%- if section.settings.enable_country_selector or section.settings.enable_language_selector %}
          {% render 'language-country-selector', place: 'MainHeader', color-scheme: section.settings.color_scheme %}
        {% endif %}
      {% endif %}
      {%- if shop.customer_accounts_enabled -%}
        <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" data-modal-type="{%- if customer -%}order-list{% else %}account-login{% endif %}" class="header__icon header__icon--account link {% if template.name != 'login' and template.name != 'account' %}popup--button{% endif %} focus-inset{% if section.settings.menu != blank %} small-hide{% endif %}">
          {% render 'theme-icons', icon: 'user', width: '30px', height: "30px" %}
          <span class="visually-hidden">
            {%- liquid
              if customer
                echo 'customer.account_fallback' | t
              else
                echo 'customer.log_in' | t
              endif
            -%}
          </span>
        </a>
      {%- endif -%}
      <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset" id="cart-icon-bubble">
        {% liquid 
          if settings.cart_icon_type == 'default'
            render 'theme-icons', icon: 'cart', width: '30px', height: '30px'
          elsif settings.cart_icon_type == 'cart'
            render 'theme-icons', icon: 'shopping-cart', width: '30px', height: '31px'
          else
            render 'theme-icons', icon: 'bag', width: '30px', height: '31px'
          endif
        %}
        <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
        {%- if cart != empty -%}
          <div class="cart-count-bubble">
            {%- if cart.item_count < 100 -%}
              <span aria-hidden="true">{{ cart.item_count }}</span>
            {%- endif -%}
            <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
          </div>
        {%- endif -%}
      </a>
    </div>
  </header>
</div>
{% unless section.settings.full_width %}
  </div>
{% endunless %}
{% if section.settings.sticky_header and section.settings.navigation_position == 'top-with-header' or section.settings.navigation_position == 'inline-with-logo' %}
  <sticky-header class="header-wrapper header__sticky color-{{ section.settings.color_scheme }} medium-hide small-hide">
    <header class="header header--{{ section.settings.logo_position }}{% if section.settings.enable_overlay_navigation %} navigation-panel{% endif %} navigation__position-{{ section.settings.navigation_position }} header--mobile-{{ section.settings.mobile_logo_position }}{% if section.settings.menu != blank %} header--has-menu{% endif %}">
      <div class="header-left__icons small-hide medium-hide">
        {% if section.settings.enable_overlay_navigation %}
          <button type="button" class="header-additional__toggle-link" data-modal-type="overly-navigation-panel">
            {% render 'theme-icons', icon: 'menu' %}
          </button>
          {% render 'overlay-navigation-panel', section: section %}
        {% endif %}
      </div>
      {%- if request.page_type == 'index' -%}
        <h1 class="header__heading">
      {%- endif -%}
          <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
            {%- if section.settings.logo != blank -%}
              {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
              {%- assign logo_height = section.settings.logo_width | divided_by: section.settings.logo.aspect_ratio -%}
              {{ section.settings.logo | image_url: width: 500 | image_tag:
                class: 'header__heading-logo motion-reduce',
                widths: '50, 100, 150, 200, 250, 300, 400, 500',
                height: logo_height,
                width: section.settings.logo_width,
                alt: logo_alt
              }}
            {%- else -%}
              <span class="h2">{{ shop.name }}</span>
            {%- endif -%}
          </a>
      {%- if request.page_type == 'index' -%}
        </h1>
      {%- endif -%}
      {%- if section.settings.menu != blank and section.settings.navigation_position == 'top-with-header' or section.settings.navigation_position == 'inline-with-logo' -%}
        <nav class="header__inline-menu">
          <ul class="list-menu list-menu--inline" role="list">
            {%- for link in section.settings.menu.links -%}
              {% liquid
                assign checkMenuType = false
                for childlink in link.links
                  if childlink.links != blank
                    assign checkMenuType = true
                  endif
                endfor 
              %} 
              <li>
                {%- if link.links != blank -%}
                  <header-menu>
                    {%- if section.settings.menu_type_desktop == 'mega' and checkMenuType == true -%}
                      <details id="Details-HeaderMenu-{{ forloop.index }}" class="mega-menu" onclick="this.querySelector('.mega-menu__content').focus()">
                        <summary class="header__menu-item link-hover__element list-menu__item link focus-inset menu__item-lv1">
                          <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                          {% render 'theme-icons', icon: 'plus' %}
                          {% render 'theme-icons', icon: 'minus' %}
                        </summary>
                        <div id="MegaMenu-Content-{{ forloop.index }}" class="mega-menu__content color-{{ section.settings.color_scheme }} motion-reduce global-settings-popup" tabindex="-1">
                          <div class="mega-menu__content-inner">
                            <ul class="mega-menu__list {% unless section.settings.full_width %}page-width{% endunless %}{% if link.levels == 1 %} mega-menu__list--condensed{% endif %} {% if link.links.size > 3 %}link--column-auto{% else %}link--column-{{ link.links.size }}{% endif %}" role="list">
                              {%- for childlink in link.links -%}
                                <li>
                                  {%- if childlink.levels > 0 and childlink.url contains '/collections/' -%}
                                    {% assign card_collection = collections[childlink.object.handle] %}
                                    {%- if section.settings.show_mega_menu_image and card_collection.featured_image != blank -%}
                                      <a class="megamenu-image-link" href="{{ childlink.url }}">
                                        <div class="collection-megamenu-image" style="--ratio-percent: {{ 1 | divided_by: 0.8 | times: 100 }}%;">
                                          <img
                                            srcset="
                                              {%- if card_collection.featured_image.width >= 165 -%}{{ card_collection.featured_image | image_url: width: 165 }} 165w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 330 -%}{{ card_collection.featured_image | image_url: width: 330 }} 330w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 535 -%}{{ card_collection.featured_image | image_url: width: 535 }} 535w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 750 -%}{{ card_collection.featured_image | image_url: width: 750 }} 750w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 1000 -%}{{ card_collection.featured_image | image_url: width: 1000 }} 1000w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 1500 -%}{{ card_collection.featured_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                                              {%- if card_collection.featured_image.width >= 3000 -%}{{ card_collection.featured_image | image_url: width: 3000 }} 3000w,{%- endif -%}
                                              {{ card_collection.featured_image | image_url }} {{ card_collection.featured_image.width }}w
                                            "
                                            src="{{ card_collection.featured_image | image_url: width: 1500 }}"
                                            sizes="
                                              (min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: link.links.size }}px,
                                              (min-width: 750px) {% if link.links.size > 1 %}calc((100vw - 10rem) / 2){% else %}calc(100vw - 10rem){% endif %},
                                              calc(100vw - 3rem)
                                            "
                                            alt=""
                                            height="{{ card_collection.featured_image.height }}"
                                            width="{{ card_collection.featured_image.width }}"
                                            loading="lazy"
                                            class="motion-reduce loading__animation"
                                          >
                                        </div>
                                      </a>
                                    {%- endif -%}
                                  {%- endif -%}
                                  <a href="{{ childlink.url }}" class="mega-menu__link link-hover__element mega-menu__link--level-2 link h5{% if childlink.current %} mega-menu__link--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                    <span class="link__hover h5">{{ childlink.title | escape }}</span>
                                  </a>
                                  {%- if childlink.links != blank -%}
                                    <ul class="list-unstyled" role="list">
                                      {%- for grandchildlink in childlink.links -%}
                                        <li>
                                          <a href="{{ grandchildlink.url }}" class="mega-menu__link link-hover__element link{% if grandchildlink.current %} mega-menu__link--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                            <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                          </a>
                                        </li>
                                      {%- endfor -%}
                                    </ul>
                                  {%- endif -%}
                                </li>
                              {%- endfor -%}
                            </ul>
                          </div>
                        </div>
                      </details>
                    {% else %}
                      <details id="Details-HeaderMenu-{{ forloop.index }}">
                        <summary class="header__menu-item link-hover__element list-menu__item link focus-inset menu__item-lv1" onclick="this.querySelector('.header__submenu').focus()">
                          <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                          {% render 'theme-icons', icon: 'plus' %}
                          {% render 'theme-icons', icon: 'minus' %}
                        </summary>
                        <div id="HeaderMenu-MenuList-{{ forloop.index }}" class="header__submenu list-menu list-menu--disclosure color-{{ section.settings.color_scheme }} caption-large motion-reduce global-settings-popup" role="list" tabindex="-1">
                          <ul class="dropdown__menu-item">
                            {%- for childlink in link.links -%}
                              <li>
                                {%- if childlink.links == blank -%}
                                  <a href="{{ childlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                    <span class="link__hover">{{ childlink.title | escape }}</span>
                                  </a>
                                {%- else -%}
                                  <details id="Details-HeaderSubMenu-{{ forloop.index }}">
                                    <summary class="header__menu-item link link--text list-menu__item focus-inset caption-large">
                                      <span>{{ childlink.title | escape }}</span>
                                      {% render 'theme-icons', icon: 'plus' %}
                                      {% render 'theme-icons', icon: 'minus' %}
                                    </summary>
                                    <ul id="HeaderMenu-SubMenuList-{{ forloop.index }}" class="header__submenu list-menu motion-reduce">
                                      {%- for grandchildlink in childlink.links -%}
                                        <li>
                                          <a href="{{ grandchildlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                            <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                          </a>
                                        </li>
                                      {%- endfor -%}
                                    </ul>
                                  </details>
                                {%- endif -%}
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </details>
                    {% endif %}
                  </header-menu>
                {%- else -%}
                  <a href="{{ link.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset menu__item-lv1"{% if link.current %} aria-current="page"{% endif %}>
                    <span{% if link.current %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                  </a>
                {%- endif -%}
              </li>
            {%- endfor -%}
          </ul>
        </nav>
      {%- endif -%}
      <div class="header__icons">
        {% if section.settings.navigation_position == 'top-with-header' or section.settings.navigation_position == 'inline-with-logo' %}
          {%- if section.settings.enable_country_selector or section.settings.enable_language_selector %}
            {% render 'language-country-selector', place: 'MainHeaderSticky', color-scheme: section.settings.color_scheme %}
          {% endif %}
        {% endif %}
        {%- if shop.customer_accounts_enabled -%}
          <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" data-modal-type="{%- if customer -%}order-list{% else %}account-login{% endif %}" class="header__icon header__icon--account link {% if template.name != 'login' and template.name != 'account' %}popup--button{% endif %} focus-inset{% if section.settings.menu != blank %} small-hide{% endif %}">
            {% render 'theme-icons', icon: 'user', width: '30px', height: "30px" %}
            <span class="visually-hidden">
              {%- liquid
                if customer
                  echo 'customer.account_fallback' | t
                else
                  echo 'customer.log_in' | t
                endif
              -%}
            </span>
          </a>
        {%- endif -%}
        <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset" id="cart-icon-sticky-bubble">
          {% liquid 
            if settings.cart_icon_type == 'default'
              render 'theme-icons', icon: 'cart', width: '30px', height: '30px'
            elsif settings.cart_icon_type == 'cart'
              render 'theme-icons', icon: 'shopping-cart', width: '30px', height: '31px'
            else
              render 'theme-icons', icon: 'bag', width: '30px', height: '31px'
            endif
          %}
          <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
          {%- if cart != empty -%}
            <div class="cart-count-bubble">
              {%- if cart.item_count < 100 -%}
                <span aria-hidden="true">{{ cart.item_count }}</span>
              {%- endif -%}
              <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
            </div>
          {%- endif -%}
        </a>
      </div>
    </header>
  </sticky-header>
{% endif %}
{%- if section.settings.menu != blank and section.settings.navigation_position == 'bottom-fixed' -%}
<div class="header-navigation-bottom__fixed small-hide medium-hide{% if request.design_mode %} active{% endif %}">
  <div class="navigation-bottom__fixed-inner color-{{ section.settings.color_scheme }}{%- if section.settings.enable_country_selector or section.settings.enable_language_selector %} grid-column-3{% endif %}">
    <div class="fixed-social__links">
      <ul class="list list-social list-unstyled" role="list">
        {%- if settings.social_instagram_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_instagram_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'instagram' -%}
              <span class="visually-hidden">{{ 'general.social.links.instagram' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_facebook_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_facebook_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'facebook' -%}
              <span class="visually-hidden">{{ 'general.social.links.facebook' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_twitter_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_twitter_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'formely_twitter' -%}
              <span class="visually-hidden">{{ 'general.social.links.twitter' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_vimeo_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_vimeo_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'vimeo' -%}
              <span class="visually-hidden">{{ 'general.social.links.vimeo' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_youtube_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_youtube_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'youtube' -%}
              <span class="visually-hidden">{{ 'general.social.links.youtube' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_tiktok_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_tiktok_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'tiktok' -%}
              <span class="visually-hidden">{{ 'general.social.links.tiktok' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_snapchat_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_snapchat_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'snapchat' -%}
              <span class="visually-hidden">{{ 'general.social.links.snapchat' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_pinterest_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_pinterest_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'pinterest' -%}
              <span class="visually-hidden">{{ 'general.social.links.pinterest' | t }}</span>
            </a>
          </li>
        {%- endif -%}
        {%- if settings.social_tumblr_link != blank -%}
          <li class="list-social__item">
            <a target="_blank" href="{{ settings.social_tumblr_link }}" class="link list-social__link">
              {%- render 'theme-icons', icon: 'tumblr' -%}
              <span class="visually-hidden">{{ 'general.social.links.tumblr' | t }}</span>
            </a>
          </li>
        {%- endif -%}
      </ul>
    </div>
    <nav class="header__inline-menu">
      <ul class="list-menu list-menu--inline" role="list">
        {%- for link in section.settings.menu.links -%}
          {% liquid
            assign checkMenuType = false
            for childlink in link.links
              if childlink.links != blank
                assign checkMenuType = true
              endif
            endfor 
          %} 
          <li>
            {%- if link.links != blank -%}
              <header-menu>
                {%- if section.settings.menu_type_desktop == 'mega' and checkMenuType == true -%}
                  <details id="Details-HeaderMenu-{{ forloop.index }}" class="mega-menu" onclick="this.querySelector('.mega-menu__content').focus()">
                    <summary class="header__menu-item link-hover__element list-menu__item link focus-inset" data-header-nav="fixed">
                      <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                      {% render 'theme-icons', icon: 'plus' %}
                      {% render 'theme-icons', icon: 'minus' %}
                    </summary>
                    <div id="MegaMenu-Content-{{ forloop.index }}" class="mega-menu__content color-{{ section.settings.color_scheme }} motion-reduce global-settings-popup" tabindex="-1">
                      <div class="mega-menu__content-inner">
                        <ul class="mega-menu__list {% unless section.settings.full_width %}page-width{% endunless %}{% if link.levels == 1 %} mega-menu__list--condensed{% endif %} {% if link.links.size > 3 %}link--column-auto{% else %}link--column-{{ link.links.size }}{% endif %}" role="list">
                          {%- for childlink in link.links -%}
                            <li>
                              {%- if childlink.levels > 0 and childlink.url contains '/collections/' -%}
                                {% assign card_collection = collections[childlink.object.handle] %}
                                {%- if section.settings.show_mega_menu_image and card_collection.featured_image != blank -%}
                                  <a class="megamenu-image-link" href="{{ childlink.url }}">
                                    <div class="collection-megamenu-image" style="--ratio-percent: {{ 1 | divided_by: 0.8 | times: 100 }}%;">
                                      <img
                                        srcset="
                                          {%- if card_collection.featured_image.width >= 165 -%}{{ card_collection.featured_image | image_url: width: 165 }} 165w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 330 -%}{{ card_collection.featured_image | image_url: width: 330 }} 330w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 535 -%}{{ card_collection.featured_image | image_url: width: 535 }} 535w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 750 -%}{{ card_collection.featured_image | image_url: width: 750 }} 750w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 1000 -%}{{ card_collection.featured_image | image_url: width: 1000 }} 1000w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 1500 -%}{{ card_collection.featured_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                                          {%- if card_collection.featured_image.width >= 3000 -%}{{ card_collection.featured_image | image_url: width: 3000 }} 3000w,{%- endif -%}
                                          {{ card_collection.featured_image | image_url }} {{ card_collection.featured_image.width }}w
                                        "
                                        src="{{ card_collection.featured_image | image_url: width: 1500 }}"
                                        sizes="
                                          (min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: link.links.size }}px,
                                          (min-width: 750px) {% if link.links.size > 1 %}calc((100vw - 10rem) / 2){% else %}calc(100vw - 10rem){% endif %},
                                          calc(100vw - 3rem)
                                        "
                                        alt=""
                                        height="{{ card_collection.featured_image.height }}"
                                        width="{{ card_collection.featured_image.width }}"
                                        loading="lazy"
                                        class="motion-reduce loading__animation"
                                      >
                                    </div>
                                  </a>
                                {%- endif -%}
                              {%- endif -%}
                              <a href="{{ childlink.url }}" class="mega-menu__link link-hover__element mega-menu__link--level-2 link h5{% if childlink.current %} mega-menu__link--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                <span class="link__hover h5">{{ childlink.title | escape }}</span>
                              </a>
                              {%- if childlink.links != blank -%}
                                <ul class="list-unstyled" role="list">
                                  {%- for grandchildlink in childlink.links -%}
                                    <li>
                                      <a href="{{ grandchildlink.url }}" class="mega-menu__link link-hover__element link{% if grandchildlink.current %} mega-menu__link--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                        <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                      </a>
                                    </li>
                                  {%- endfor -%}
                                </ul>
                              {%- endif -%}
                            </li>
                          {%- endfor -%}
                        </ul>
                      </div>
                    </div>
                  </details>
                {% else %}
                  <details id="Details-HeaderMenu-{{ forloop.index }}" onclick="this.querySelector('.header__submenu').focus()">
                    <summary class="header__menu-item link-hover__element list-menu__item link focus-inset" data-header-nav="fixed">
                      <span{% if link.child_active %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
                      {% render 'theme-icons', icon: 'plus' %}
                      {% render 'theme-icons', icon: 'minus' %}
                    </summary>
                    <div id="HeaderMenu-MenuList-{{ forloop.index }}" class="header__submenu list-menu list-menu--disclosure color-{{ section.settings.color_scheme }} caption-large motion-reduce global-settings-popup" role="list" tabindex="-1">
                      <ul class="dropdown__menu-item">
                        {%- for childlink in link.links -%}
                          <li>
                            {%- if childlink.links == blank -%}
                              <a href="{{ childlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                <span class="link__hover">{{ childlink.title | escape }}</span>
                              </a>
                            {%- else -%}
                              <details id="Details-HeaderSubMenu-{{ forloop.index }}">
                                <summary class="header__menu-item link link--text list-menu__item focus-inset caption-large">
                                  <span>{{ childlink.title | escape }}</span>
                                  {% render 'theme-icons', icon: 'plus' %}
                                  {% render 'theme-icons', icon: 'minus' %}
                                </summary>
                                <ul id="HeaderMenu-SubMenuList-{{ forloop.index }}" class="header__submenu list-menu motion-reduce">
                                  {%- for grandchildlink in childlink.links -%}
                                    <li>
                                      <a href="{{ grandchildlink.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                        <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                      </a>
                                    </li>
                                  {%- endfor -%}
                                </ul>
                              </details>
                            {%- endif -%}
                          </li>
                        {%- endfor -%}
                      </ul>
                    </div>
                  </details>
                {% endif %}
              </header-menu>
            {%- else -%}
              <a href="{{ link.url }}" class="header__menu-item link-hover__element list-menu__item link link--text focus-inset"{% if link.current %} aria-current="page"{% endif %}>
                <span{% if link.current %} class="link__hover header__active-menu-item"{% else %} class="link__hover"{% endif %}>{{ link.title | escape }}</span>
              </a>
            {%- endif -%}
          </li>
        {%- endfor -%}
      </ul>
    </nav>
    {%- if section.settings.enable_country_selector or section.settings.enable_language_selector %}
      {% render 'language-country-selector', place: 'MainHeader', fixed_nav: 'true', color-scheme: section.settings.color_scheme %}
    {% endif %}
  </div>
</div>
{%- endif -%}
{%- if section.settings.menu != blank -%}
  <div class="theme-menu-popup-overlay hidden-overlay"></div>
  <div id="menu-drawer" class="rt-theme-popup color-{{ section.settings.color_scheme }} hide-popup" data-popup-type="mobile-navigation" tabindex="-1">
    <button class="theme-popup-close color-secondary">{% render 'theme-icons', icon: 'close' %}</button>
    <div class="popup--inner">
      <div class="menu-drawer__inner-container">
        <div class="menu-drawer__navigation-container">
          <nav class="menu-drawer__navigation">
            <ul class="menu-drawer__menu has-submenu list-menu dropdown-links" role="list">
              {%- for link in section.settings.menu.links -%}
                <li>
                  {%- if link.links != blank -%}
                    <div id="Details-menu-drawer-menu-item-{{ forloop.index }}">
                      <button class="menu-drawer__menu-item dropdown-menu--toggle link-hover__element list-menu__item link link--text focus-inset{% if link.child_active %} menu-drawer__menu-item--active{% endif %}">
                        <span class="link__hover">{{ link.title | escape }}</span>
                        {% render 'theme-icons', icon: 'plus' %}
                        {% render 'theme-icons', icon: 'minus' %}
                      </button>
                      <div id="link-{{ link.handle | escape }}" class="menu-drawer__submenu has-submenu gradient motion-reduce" tabindex="-1">
                        <div class="menu-drawer__inner-submenu">
                          <button class="menu-drawer__close-button link link-hover__element link--text focus-inset hide" aria-expanded="true">
                            {% render 'theme-icons', icon: 'plus' %}
                            {% render 'theme-icons', icon: 'minus' %}
                            <span class="link__hover">{{ link.title | escape }}</span>
                          </button>
                          <ul class="menu-drawer__menu list-menu" role="list" tabindex="-1">
                            {%- for childlink in link.links -%}
                              <li>
                                {%- if childlink.links == blank -%}
                                  <a href="{{ childlink.url }}" class="menu-drawer__menu-item link link-hover__element link--text list-menu__item focus-inset{% if childlink.current %} menu-drawer__menu-item--active{% endif %}"{% if childlink.current %} aria-current="page"{% endif %}>
                                    <span class="link__hover">{{ childlink.title | escape }}</span>
                                  </a>
                                {%- else -%}
                                  <div id="Details-menu-drawer-submenu-{{ forloop.index }}">
                                    <button class="menu-drawer__menu-item link-hover__element dropdown-menu--toggle link link--text list-menu__item focus-inset">
                                      <span class="link__hover">{{ childlink.title | escape }}</span>
                                      {% render 'theme-icons', icon: 'plus' %}
                                      {% render 'theme-icons', icon: 'minus' %}
                                    </button>
                                    <div id="childlink-{{ childlink.handle | escape }}" class="menu-drawer__submenu has-submenu gradient motion-reduce">
                                      <button class="menu-drawer__close-button link link-hover__element link--text focus-inset hide" aria-expanded="true">
                                        {% render 'theme-icons', icon: 'plus' %}
                                        {% render 'theme-icons', icon: 'minus' %}
                                        <span class="link__hover">{{ childlink.title | escape }}</span>
                                      </button>
                                      <ul class="menu-drawer__menu list-menu" role="list" tabindex="-1">
                                        {%- for grandchildlink in childlink.links -%}
                                          <li>
                                            <a href="{{ grandchildlink.url }}" class="menu-drawer__menu-item link-hover__element link link--text list-menu__item focus-inset{% if grandchildlink.current %} menu-drawer__menu-item--active{% endif %}"{% if grandchildlink.current %} aria-current="page"{% endif %}>
                                              <span class="link__hover">{{ grandchildlink.title | escape }}</span>
                                            </a>
                                          </li>
                                        {%- endfor -%}
                                      </ul>
                                    </div>
                                  </div>
                                {%- endif -%}
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </div>
                    </div>
                  {%- else -%}
                    <a href="{{ link.url }}" class="menu-drawer__menu-item link-hover__element list-menu__item link link--text focus-inset{% if link.current %} menu-drawer__menu-item--active{% endif %}"{% if link.current %} aria-current="page"{% endif %}>
                      <span class="link__hover">{{ link.title | escape }}</span>
                    </a>
                  {%- endif -%}
                </li>
              {%- endfor -%}
            </ul>
          </nav>
          <div class="menu-drawer__utility-links">
            <ul class="list list-social list-unstyled" role="list">
              {%- if settings.social_instagram_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_instagram_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'instagram' -%}
                    <span class="visually-hidden">{{ 'general.social.links.instagram' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_facebook_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_facebook_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'facebook' -%}
                    <span class="visually-hidden">{{ 'general.social.links.facebook' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_twitter_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_twitter_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'formely_twitter' -%}
                    <span class="visually-hidden">{{ 'general.social.links.twitter' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_vimeo_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_vimeo_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'vimeo' -%}
                    <span class="visually-hidden">{{ 'general.social.links.vimeo' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_youtube_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_youtube_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'youtube' -%}
                    <span class="visually-hidden">{{ 'general.social.links.youtube' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_tiktok_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_tiktok_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'tiktok' -%}
                    <span class="visually-hidden">{{ 'general.social.links.tiktok' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_snapchat_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_snapchat_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'snapchat' -%}
                    <span class="visually-hidden">{{ 'general.social.links.snapchat' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_pinterest_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_pinterest_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'pinterest' -%}
                    <span class="visually-hidden">{{ 'general.social.links.pinterest' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
              {%- if settings.social_tumblr_link != blank -%}
                <li class="list-social__item">
                  <a target="_blank" href="{{ settings.social_tumblr_link }}" class="link list-social__link">
                    {%- render 'theme-icons', icon: 'tumblr' -%}
                    <span class="visually-hidden">{{ 'general.social.links.tumblr' | t }}</span>
                  </a>
                </li>
              {%- endif -%}
            </ul>
          </div>
          {%- if section.settings.enable_country_selector or section.settings.enable_language_selector %}
            {% render 'language-country-selector', place: 'MainHeaderDrawer', , color-scheme: section.settings.color_scheme %}
          {% endif %}
        </div>
      </div>
    </div>
  </div> 
{% endif %}
<div class="header-layout-fixed--mt hide">
  <div class="fixed--mt-inner color-{{ section.settings.color_scheme }}">
    {%- if section.settings.menu != blank -%}
      <header-drawer data-breakpoint="tablet">
        <div id="Details-menu-drawer-container" class="menu-drawer-container" open>
          <button class="header__icon header__icon--menu header__icon--summary link popup--button navigation--toggle" data-modal-type="mobile-navigation" aria-label="{{ 'sections.header.menu' | t }}">
            <span class="mobile-icon__flex">
              {% render 'theme-icons', icon: 'menu' %}
              {{ 'sections.header.menu' | t }}
            </span>
          </button>
        </div>
      </header-drawer>
    {%- endif -%}
    {%- if shop.customer_accounts_enabled -%}
      <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" data-modal-type="{%- if customer -%}order-list{% else %}account-login{% endif %}" class="mobile-icon__flex header__icon header__icon--account link {% if template.name != 'login' and template.name != 'account' %}popup--button{% endif %} focus-inset">
        {% render 'theme-icons', icon: 'user', width: '30px', height: "30px" %} 
        <span>
          {%- liquid
            if customer
              echo 'customer.account_fallback' | t
            else
              echo 'customer.log_in' | t
            endif
          -%}
        </span>
      </a>
    {%- endif -%}
    <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset" id="fixed-cart-icon-bubble" role="button" aria-haspopup="dialog">
      <div class="mobile-icon__flex">
        <div id="mobile-cart-icon-bubble">
          {% liquid 
            if settings.cart_icon_type == 'default'
              render 'theme-icons', icon: 'cart', width: '30px', height: '30px'
            elsif settings.cart_icon_type == 'cart'
              render 'theme-icons', icon: 'shopping-cart', width: '30px', height: '31px'
            else
              render 'theme-icons', icon: 'bag', width: '30px', height: '31px'
            endif
          %}
          {%- if cart != empty -%}
            <div class="cart-count-bubble">
              {%- if cart.item_count < 100 -%}
                <span aria-hidden="true">{{ cart.item_count }}</span>
              {%- endif -%}
              <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
            </div>
          {%- endif -%}
        </div>
        <span>{{ 'templates.cart.cart' | t }}</span>
      </div>
    </a>
  </div>
</div>  
{%- if request.design_mode -%}
  <script src="{{ 'theme-editor.js' | asset_url }}" defer="defer"></script>
{%- endif -%}
<script>
  var sectionId = 'shopify-section-{{ section.id }}';
  var element = document.getElementById(sectionId);
  if (element) {
    var rect = element.getBoundingClientRect();
    var headerHeight = rect.height.toFixed(1);
    document.documentElement.style.setProperty('--header-height', headerHeight + 'px');
  }
  window.addEventListener("DOMContentLoaded", (event) => {
    if(window.matchMedia("(min-width: 990px)").matches){
      if (element.querySelector('.header-navigation-bottom__fixed')) {
        element.querySelector('.header-navigation-bottom__fixed').classList.add('active');
        setTimeout(function(){
          var getFixedNavHeight = element.querySelector('.header-navigation-bottom__fixed').offsetHeight;
          document.documentElement.style.setProperty('--bottom-fixed-navigation', getFixedNavHeight + 'px');
          document.body.classList.add('navigation-bottom-fixed');
        },100);
      }else{
        document.documentElement.style.setProperty('--bottom-fixed-navigation', 0 + 'px');
        document.body.classList.remove('navigation-bottom-fixed');
      }
    }
    if (element) {
      var rect = element.getBoundingClientRect();
      var headerHeight = rect.height.toFixed(1);
      if(document.body.classList.contains("slideshow-transparent__header")){
        if(window.matchMedia("(min-width: 990px)").matches){
          headerHeight = headerHeight - 20;
        }else {
          headerHeight = headerHeight - 10;
        }
      }
      document.documentElement.style.setProperty('--header-height', headerHeight + 'px');
    }
  });
  window.addEventListener('resize', function(event) {
    var sectionId = 'shopify-section-{{ section.id }}';
    var element = document.getElementById(sectionId);
    if (element) {
      var rect = element.getBoundingClientRect();
      var headerHeight = rect.height.toFixed(1);
      if(document.body.classList.contains("slideshow-transparent__header")){
        if(window.matchMedia("(min-width: 990px)").matches){
          headerHeight = headerHeight - 20;
        }else {
          headerHeight = headerHeight - 10;
        }
      }
      document.documentElement.style.setProperty('--header-height', headerHeight + 'px');
    }
  });
</script>
{% javascript %}
  document.addEventListener("scroll", (event) => {
     var header = document.querySelector('.section-header'),
      scrollTop = window.pageYOffset || document.documentElement.scrollTop,
      headerOffsetTop = header.offsetTop,
      headerOffsetHeight = header.offsetHeight,
      headerPosTop = headerOffsetTop + headerOffsetHeight + 100;
      if (scrollTop > headerPosTop) {
        header.classList.add('scrolled-past-header');
      }else if (scrollTop <= headerPosTop) {
        header.classList.remove('scrolled-past-header');
      }
  });
{% endjavascript %}

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": {{ shop.name | json }},
    {% if section.settings.logo %}
      "logo": {{ section.settings.logo | image_url: width: 500 | prepend: "https:" | json }},
    {% endif %}
    "sameAs": [
      {{ settings.social_twitter_link | json }},
      {{ settings.social_facebook_link | json }},
      {{ settings.social_pinterest_link | json }},
      {{ settings.social_instagram_link | json }},
      {{ settings.social_tiktok_link | json }},
      {{ settings.social_tumblr_link | json }},
      {{ settings.social_snapchat_link | json }},
      {{ settings.social_youtube_link | json }},
      {{ settings.social_vimeo_link | json }}
    ],
    "url": {{ request.origin | append: page.url | json }}
  }
</script>

{%- if request.page_type == 'index' -%}
  {% assign potential_action_target = request.origin | append: routes.search_url | append: "?q={search_term_string}" %}
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "name": {{ shop.name | json }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": {{ potential_action_target | json }},
        "query-input": "required name=search_term_string"
      },
      "url": {{ request.origin | append: page.url | json }}
    }
  </script>
{%- endif -%}

{% schema %}
{
  "name": "t:sections.header.name",
  "class": "section-header",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.all.layout.content"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "t:sections.all.full_width.label",
      "default": true
    },
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "primary",
          "label": "t:sections.all.color_scheme.primary.label"
        },
        {
          "value": "secondary",
          "label": "t:sections.all.color_scheme.secondary.label"
        },
        {
          "value": "light",
          "label": "t:sections.all.color_scheme.light.label"
        },
        {
          "value": "dark",
          "label": "t:sections.all.color_scheme.dark.label"
        },
        {
          "value": "gray",
          "label": "t:sections.all.color_scheme.gray.label"
        }
      ],
      "default": "secondary",
      "label": "t:sections.all.color_scheme.label"
    },
    {
      "type": "checkbox",
      "id": "sticky_header",
      "label": "t:sections.header.settings.sticky_header.label",
      "default": true,
      "info": "t:sections.header.settings.sticky_header.info"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.transparency.content",
      "info": "t:sections.header.settings.transparency.info"
    },
    {
      "type": "checkbox",
      "id": "transparent_header",
      "label": "t:sections.header.settings.transparency.label",
      "default": false
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.logo_header.content"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.image.label"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "default": 150,
      "unit": "px",
      "label": "t:sections.header.settings.logo_width.label"
    },
    {
      "type": "range",
      "id": "logo_width_mobile",
      "min": 50,
      "max": 300,
      "step": 10,
      "default": 100,
      "unit": "px",
      "label": "t:sections.header.settings.logo_width_mobile.label"
    },
    {
      "type": "select",
      "id": "logo_position",
      "options": [
        {
          "value": "top-left",
          "label": "t:sections.header.settings.logo_position.options__1.label"
        },
        {
          "value": "top-center",
          "label": "t:sections.header.settings.logo_position.options__2.label"
        }
      ],
      "default": "top-center",
      "label": "t:sections.header.settings.logo_position.label",
      "info": "t:sections.header.settings.logo_position.info"
    },
    {
      "type": "select",
      "id": "mobile_logo_position",
      "options": [
        {
          "value": "left",
          "label": "t:sections.header.settings.mobile_logo_position.options__1.label"
        },
        {
          "value": "right",
          "label": "t:sections.header.settings.mobile_logo_position.options__2.label"
        }
      ],
      "default": "left",
      "label": "t:sections.header.settings.mobile_logo_position.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.navigation.content"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    },
    {
      "type": "select",
      "id": "menu_type_desktop",
      "options": [
        {
          "value": "dropdown",
          "label": "t:sections.header.settings.menu_type_desktop.options__1.label"
        },
        {
          "value": "mega",
          "label": "t:sections.header.settings.menu_type_desktop.options__2.label"
        }
      ],
      "default": "dropdown",
      "label": "t:sections.header.settings.menu_type_desktop.label",
      "info": "t:sections.header.settings.menu_type_desktop.info"
    },
    {
      "type": "checkbox",
      "id": "show_mega_menu_image",
      "default": false,
      "label": "t:sections.header.settings.mega_menu_image.label"
    },
    {
      "type": "select",
      "id": "navigation_position",
      "options": [
        {
          "value": "inline-with-logo",
          "label": "t:sections.header.settings.navigation_position.options__1.label"
        },
        {
          "value": "top-with-header",
          "label": "t:sections.header.settings.navigation_position.options__2.label"
        },
        {
          "value": "bottom-fixed",
          "label": "t:sections.header.settings.navigation_position.options__3.label"
        }
      ],
      "default": "bottom-fixed",
      "label": "t:sections.header.settings.navigation_position.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.overlay_navigation_panel.content",
      "info": "t:sections.header.settings.overlay_navigation_panel.info"
    },
    {
      "type": "checkbox",
      "id": "enable_overlay_navigation",
      "default": true,
      "label": "t:sections.header.settings.overlay_navigation_panel.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.overlay_navigation_panel.content_left"
    },
    {
      "type": "link_list",
      "id": "information_links",
      "default": "main-menu",
      "label": "t:sections.header.settings.overlay_navigation_panel.information_left.menu.label",
      "info": "t:sections.header.settings.overlay_navigation_panel.information_left.menu.info"
    },
    {
      "type": "text",
      "id": "promo_heading",
      "default": "Discover a World of Possibilities",
      "label": "t:sections.header.settings.overlay_navigation_panel.information_left.heading.label"
    },
    {
      "type": "richtext",
      "id": "promo_description",
      "default": "<p>Explore our user-friendly website with the convenient overlay navigation. Discover services, products, and informative articles effortlessly. Stay updated with the latest news and start your journey by clicking the menu icon. Unlock a world of possibilities today!</p>",
      "label": "t:sections.header.settings.overlay_navigation_panel.information_left.description.label"
    },
    {
      "type": "checkbox",
      "id": "show_social_links",
      "label": "t:sections.header.settings.overlay_navigation_panel.information_left.social_links.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.overlay_navigation_panel.content_right"
    },
    {
      "type": "collection_list",
      "id": "collection",
      "limit": 4,
      "label": "t:sections.header.settings.overlay_navigation_panel.information_right.collection.label"
    },
    {
      "type": "select",
      "id": "collection_style",
      "options": [
        {
          "value": "normal",
          "label": "t:sections.header.settings.overlay_navigation_panel.information_right.collection_style.options__1.label"
        },
        {
          "value": "standard",
          "label": "t:sections.header.settings.overlay_navigation_panel.information_right.collection_style.options__2.label"
        }
      ],
      "default": "standard",
      "label": "t:sections.header.settings.overlay_navigation_panel.information_right.collection_style.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.header__0.content"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "default": false,
      "label": "t:sections.header.settings.enable_country_selector.label"
    },
    {
      "type": "checkbox",
      "id": "enable_language_selector",
      "default": false,
      "label": "t:sections.header.settings.enable_language_selector.label"
    }
  ]
}
{% endschema %}








/* Custom CSS */

.header__icons .header__icon {
  display: flex !important;
}
@media screen and (max-width: 989px) {
  .header__icons .header__search {
    /* display: none !important; */
  }
  .header-left__icons .header__search {
    display: inline-flex !important;
  }
  .header-left__icons {
    grid-area: left-icons;
    display: flex;
    align-items: center;
  }
  .header {
    grid-template-areas: "left-icons heading icons";
    grid-template-columns: 1fr auto 1fr;
    justify-content: space-between;
  }
  #menu-drawer {
    bottom: 0;
  }
}
@media screen and (max-width: 600px) {
  .header__icons {
    gap:10px;
  }
}






/* sticky header in mobile */
.scrolled-past-header .header-wrapper.relative__header {
  position: fixed;
  top: 0%;
  border: 0;
  border-radius: 0;
  visibility: visible;
  width: 100%;
  left: 0;
  top: 0;
  box-shadow: 1px 1px 2px 1px #0003;
  z-index: 1;
  margin: 0 !important;
}